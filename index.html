<header class="navbar">
    <div class="brand">VISTORÉ</div> 
    
    <nav>
        <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="#">Profil</a></li>
            <li><a href="case-studies.html">Études de Cas</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>
    
    <div class="header-utils">
        <button id="dark-mode-toggle" class="util-button">🌙</button>

        <select id="language-switcher" class="util-select">
            <option value="fr">FR</option>
            <option value="en">EN</option>
        </select>
    </div>
</header>

<script>
    // ------------------------------------------------------------------
    // A. Gestion du Mode Sombre (Dark Mode)
    // ------------------------------------------------------------------
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    const body = document.body;

    function toggleDarkMode() {
        body.classList.toggle('dark-mode');
        const isDarkMode = body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
        
        // S'assurer que l'icône change bien
        darkModeToggle.textContent = isDarkMode ? '☀️' : '🌙';
    }

    // Vérifie l'état au chargement de la page
    if (localStorage.getItem('darkMode') === 'enabled') {
        body.classList.add('dark-mode');
        darkModeToggle.textContent = '☀️';
    } else {
        darkModeToggle.textContent = '🌙';
    }

    // Écoute l'événement clic
    darkModeToggle.addEventListener('click', toggleDarkMode);

    // ------------------------------------------------------------------
    // B. Gestion du Sélecteur de Langue
    // ------------------------------------------------------------------
    const langSwitcher = document.getElementById('language-switcher');
    
    // Initialise avec la dernière langue sélectionnée
    if (localStorage.getItem('lang')) {
        langSwitcher.value = localStorage.getItem('lang');
        document.documentElement.lang = localStorage.getItem('lang');
    }

    langSwitcher.addEventListener('change', (event) => {
        const newLang = event.target.value;
        localStorage.setItem('lang', newLang);
        document.documentElement.lang = newLang; // Met à jour l'attribut lang de la page
        // Pour une vraie traduction, vous auriez besoin d'une librairie ou d'une logique plus complexe ici.
        // Pour l'instant, cela enregistre la préférence.
    });
</script>
